<div class="container">

  <div class="jumbotron">
    <h1 class="text-center" id="JTtitle"><strong>Hop.pin</h1></strong></h1>

    <button type="button" class="btn btn-danger" id="modalButton" data-toggle="modal" data-target="#exampleModal"><span class="glyphicon glyphicon-plus"</span></button>
  </div> <!-- jumbotron class -->

  <div id="mapid" style="height: 100vh"></div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        {{>signup}} {{!-- If logged in, load logInModal, else load googAutoFill --}}
      </div> {{!-- /.modal-content --}}
    </div> {{!-- /.modal-dialog --}}
  </div> {{!-- /.modal --}}
</div>  <!-- container -->
 
  <script>

  var mymap = L.map('mapid').setView([38.9072, -77.0369], 13);
  mymap.createPane('labels');
  mymap.getPane('labels').style.zIndex = 650;
  mymap.getPane('labels').style.pointerEvents = 'none';
  
  var positron = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png', {
  attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
  subdomains: 'abcd',
  maxZoom: 19
  });
  positron.addTo(mymap);

//this is where the pins are
//pins are var then name them, the line under the var is where the text goes 

//var popup = L.popup().className("popcss");  

{{#each attractions}}
  var {{this.route}} = L.marker([{{this.lat}}, {{this.lng}}]).addTo(mymap);
  //console.log("attraction" + typeof JSON.stringify({{this.route}}));
  var place = "{{this.attraction}}"
  var texty = "<b>" + place + "</b><br>description from google api."
  var temppop = L.popup().setContent(texty);
  // L.popup(minWidth=200);

  {{this.route}}.bindPopup(temppop, { className: "popcss" }).openPopup();
  {{/each}}  

  $("#modalButton").on("click", function() {
    $("#myModal").modal();
  });


  
</script>      


{{!-- var WhiteHouse = L.marker([38.8975699,-77.03713257]).addTo(mymap);
WhiteHouse.bindPopup("<b>Hello world!</b><br>I am a joke.").openPopup(); --}}